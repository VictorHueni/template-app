# Architectural Backlog for Template App Readiness

This document tracks high-level architectural patterns, cross-cutting concerns, and key features identified for implementation in the template application. Each item may require its own analysis, Architecture Decision Record (ADR), and subsequent implementation plan.

## Strategic Roadmap

| Priority             | Feature / Concept                                        | Category                  | Status        | Description                                                                                                                      | Linked ADR / Doc                                                                 |
| :------------------- | :------------------------------------------------------- | :------------------------ | :------------ | :------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------- |
| ğŸ‘‘ **High (Day 1)**   | **Database Migrations (Flyway/Liquibase)**               | Data Management           | âœ… Completed   | Schema changes must be version-controlled, repeatable, and automated. This is non-negotiable for production environments.        | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Formalize OAuth2/OIDC Flow**                           | Security                  | âœ… Completed   | Implement a full OIDC login flow (e.g., with Keycloak) and demonstrate secure token validation and refresh.                      | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Observability (Distributed Tracing, Correlation IDs)** | Cross-Cutting             | ğŸ“ Pending     | Implement end-to-end request tracing from frontend to backend using Micrometer, OpenTelemetry, and propagating correlation IDs.  | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Enforce MapStruct for DTO-Entity Mapping**             | Architectural Refactoring | ğŸ“ Pending     | Replace all manual DTO-to-entity mapping logic with MapStruct mappers to reduce boilerplate and enforce consistency.             | `backend/CODING_GUIDELINES.md`                                                   |
| ğŸ‘‘ **High (Day 1)**   | **Isolate Service Layer from DTOs**                      | Architectural Refactoring | ğŸ“ Pending     | Refactor the service layer to ensure it operates exclusively on domain entities and is completely unaware of API DTOs.           | `backend/CODING_GUIDELINES.md`                                                   |
| ğŸ‘‘ **High (Day 1)**   | **Data Seeding Strategy**                                | Data Management           | ğŸ“ Pending     | Formalize a strategy for seeding system configuration, test data, and demo accounts for various environments.                    | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **API Versioning Strategy**                              | API & Security            | ğŸ“ Pending     | Decide and document how the API will be versioned when breaking changes are needed (e.g., URI versioning (`/v2/`)).              | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Comprehensive Content Security Policy (CSP)**          | Security                  | ğŸ“ Pending     | Implement a strict CSP in the backend's security headers to mitigate XSS and other injection attacks.                            | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Formal State Management (Frontend)**                   | Frontend                  | ğŸ“ Pending     | For complex UI interactions, select and implement a formal state management library (e.g., Zustand or Redux Toolkit).            | (Pending Analysis)                                                               |
| ğŸ‘‘ **High (Day 1)**   | **Accessibility (a11y) (Frontend)**                      | Frontend                  | ğŸ“ Pending     | Integrate accessibility checks into the development and testing process to ensure the application is usable by everyone.         | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Logical CQRS (Backend & Frontend)**                    | Architectural Pattern     | ğŸš§ In Progress | Enforce a logical separation of commands and queries, laying the groundwork for a potential "real" CQRS implementation.          | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Concurrency Control (Optimistic Locking)**             | Cross-Cutting             | ğŸ“ Pending     | Implement and enforce optimistic locking strategies (e.g., `@Version` in JPA) to handle concurrent updates.                      | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Circuit Breakers (Resilience4j)**                      | Resilience                | ğŸ“ Pending     | Protect the application from cascading failures when communicating with external services or other microservices.                | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Automatic Retries (Spring Retry)**                     | Resilience                | ğŸ“ Pending     | Automatically retry failed operations (e.g., transient network errors) to improve fault tolerance.                               | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Caching Layer (Caffeine/Redis)**                       | Performance               | ğŸ“ Pending     | Implement a caching layer for frequently accessed data to improve performance and reduce database load.                          | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Consumer-Driven Contract Testing**                     | Testing                   | ğŸ“ Pending     | Implement contract testing (e.g., Spring Cloud Contract) to ensure services can evolve independently without breaking consumers. | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Soft Delete Example**                                  | Data Management           | ğŸ“ Pending     | Provide an example implementation of soft deletion for entities to retain historical data without permanent removal.             | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **PII/Sensitive Info Redaction (Logback)**               | Security / Logging        | ğŸ“ Pending     | Implement Logback filters to automatically redact PII and other sensitive data from application logs.                            | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **UI Component Library & Frontend UI Concept**           | Frontend                  | ğŸ“ Pending     | Select and integrate a UI component library and define clear concepts for frontend UI creation.                                  | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Error Handling (Frontend)**                            | Frontend                  | ğŸ“ Pending     | Implement a standardized error handling mechanism for the frontend application.                                                  | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Feature Flagging**                                     | Deployment                | ğŸ“ Pending     | Implement a feature flagging mechanism to enable/disable features dynamically.                                                   | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Configuration Hygiene (Vault)**                        | Operations / Config       | ğŸ“ Pending     | Address configuration management best practices, including potential usage of a secret management tool like HashiCorp Vault.     | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Asynchronous Task Execution (`@Async`)**               | Performance               | ğŸ“ Pending     | For long-running background jobs, demonstrate the use of Spring's `@Async` capability.                                           | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Rate Limiting & Throttling**                           | Resilience                | ğŸ“ Pending     | Protect APIs from being overwhelmed by too many requests.                                                                        | (Pending Analysis)                                                               |
| ğŸ”· **Medium (Day 2)** | **Mutation Testing (Pitest)**                            | Testing                   | ğŸ“ Pending     | Assess the quality of the test suite by modifying the source code and checking if tests fail.                                    | (Pending Analysis)                                                               |
| âœ… **Completed**      | **Functional Auditing**                                  | Cross-Cutting             | âœ… Completed   | Implement a mechanism to record significant business events.                                                                     | [ADR-001](architecture/09-architecture-decisions/ADR-001-functional-auditing.md) |

_Status Key:_
*   âœ… **Completed**: Feature implemented and documented.
*   ğŸš§ **In Progress**: Analysis, ADR, or implementation currently underway.
*   ğŸ“ **Pending**: Identified, but work has not yet started.
*   ğŸš« **Deferred**: Identified, but planned for a later phase.
*   âš ï¸ **Needs Review**: Implemented, but requires review or further refinement.

---
